Source file and commands for [ Implementing OpenTelemetry Metrics in Golang ](https://youtu.be/uJSBkTqrCYQ)

[![ Implementing OpenTelemetry Metrics in Golang Youtube Video Link](https://img.youtube.com/vi/uJSBkTqrCYQ/0.jpg)](https://www.youtube.com/watch?v=uJSBkTqrCYQ)

## Docker Scripts

### Run Postgres

```
docker run --name some-postgres -e POSTGRES_PASSWORD=mysecretpassword -p 5432:5432 -d postgres
```

### Run OpenTelemetry and Jaeger

```
docker run --rm --name jaeger -e COLLECTOR_ZIPKIN_HTTP_PORT=9411 -p 16686:16686 -p 4318:4318 jaegertracing/all-in-one:1.56
```

## DB Scripts

### Cargo Table DDL
```
create table cargos
(
    id          serial
        primary key,
    code        varchar(100) not null,
    description varchar(100) not null,
    created_at  timestamp default CURRENT_TIMESTAMP
);

alter table cargos
    owner to postgres;
```

### Orders Table DDL
```
create table public.orders
(
    id              bigserial
        constraint orders_pk
            primary key,
    shipment_number bigint                              not null,
    cargo_id        integer                             not null,
    is_shipped      boolean   default false,
    created_at      timestamp default CURRENT_TIMESTAMP not null,
    is_cancelled    boolean   default false             not null
);

alter table public.orders
    owner to postgres;
```

### Order Line Items Table DDL
```
create table order_line_items
(
    id         bigint generated by default as identity
        constraint order_line_items_pk
            primary key,
    product_id integer not null,
    seller_id  integer not null,
    order_id   integer not null
);

alter table order_line_items
    owner to postgres;
```
